ALTER TABLE B_ANS_TWR_HOST ADD COLUMN ANSTWR_LOGIN_SSH_KEY_FILE_PASSPHRASE TEXT AFTER ANSTWR_LOGIN_SSH_KEY_FILE;
ALTER TABLE B_ANS_TWR_HOST_JNL ADD COLUMN ANSTWR_LOGIN_SSH_KEY_FILE_PASSPHRASE TEXT AFTER ANSTWR_LOGIN_SSH_KEY_FILE;


CREATE OR REPLACE VIEW D_ANSIBLE_TOWER_IF_INFO AS 
SELECT 
  TAB_A.*,
  TAB_B.ANSTWR_HOSTNAME,
  TAB_B.ANSTWR_LOGIN_AUTH_TYPE,
  TAB_B.ANSTWR_LOGIN_USER,
  TAB_B.ANSTWR_LOGIN_PASSWORD,
  TAB_B.ANSTWR_LOGIN_SSH_KEY_FILE,
  TAB_B.ANSTWR_LOGIN_SSH_KEY_FILE_PASSPHRASE,
  TAB_B.ANSTWR_ISOLATED_TYPE
FROM
  B_ANSIBLE_IF_INFO           TAB_A
  LEFT JOIN (
             SELECT * 
             FROM B_ANS_TWR_HOST 
             WHERE DISUSE_FLAG = '0'
            ) TAB_B ON ( TAB_A.ANSTWR_HOST_ID = TAB_B.ANSTWR_HOST_ID );
  
CREATE OR REPLACE VIEW D_ANSIBLE_TOWER_IF_INFO_JNL AS 
SELECT 
  TAB_A.*,
  TAB_B.ANSTWR_HOSTNAME,
  TAB_B.ANSTWR_LOGIN_AUTH_TYPE,
  TAB_B.ANSTWR_LOGIN_USER,
  TAB_B.ANSTWR_LOGIN_PASSWORD,
  TAB_B.ANSTWR_LOGIN_SSH_KEY_FILE,
  TAB_B.ANSTWR_LOGIN_SSH_KEY_FILE_PASSPHRASE,
  TAB_B.ANSTWR_ISOLATED_TYPE
FROM
  B_ANSIBLE_IF_INFO_JNL         TAB_A
  LEFT JOIN (
             SELECT * 
             FROM B_ANS_TWR_HOST_JNL
             WHERE DISUSE_FLAG = '0'
            ) TAB_B ON ( TAB_A.ANSTWR_HOST_ID = TAB_B.ANSTWR_HOST_ID );

CREATE VIEW D_TOWER_LOGIN_AUTH_TYPE AS
SELECT 
  *
FROM 
  B_LOGIN_AUTH_TYPE
WHERE 
  LOGIN_AUTH_TYPE_ID <= 4;

CREATE VIEW D_TOWER_LOGIN_AUTH_TYPE_JNL AS
SELECT 
  *
FROM 
  B_LOGIN_AUTH_TYPE_JNL
WHERE 
  LOGIN_AUTH_TYPE_ID <= 4;


CREATE OR REPLACE VIEW E_ANSIBLE_LNS_PATTERN AS 
SELECT 
        PATTERN_ID                    ,
        PATTERN_NAME                  ,
        CONCAT(PATTERN_ID,':',PATTERN_NAME) PATTERN,
        ITA_EXT_STM_ID                ,
        TIME_LIMIT                    ,
        ANS_HOST_DESIGNATE_TYPE_ID    ,
        ANS_PARALLEL_EXE              ,
        ANS_WINRM_ID                  ,
        ANS_PLAYBOOK_HED_DEF          ,
        ANS_EXEC_OPTIONS              ,
        ANS_VIRTUALENV_NAME           ,
        DISP_SEQ                      ,
        ACCESS_AUTH                   ,
        NOTE                          ,
        DISUSE_FLAG                   ,
        LAST_UPDATE_TIMESTAMP         ,
        LAST_UPDATE_USER
FROM C_PATTERN_PER_ORCH TAB_A
WHERE TAB_A.ITA_EXT_STM_ID = 3;


CREATE OR REPLACE VIEW E_ANSIBLE_LNS_PATTERN_JNL AS 
SELECT 
        JOURNAL_SEQ_NO                ,
        JOURNAL_REG_DATETIME          ,
        JOURNAL_ACTION_CLASS          ,
        PATTERN_ID                    ,
        PATTERN_NAME                  ,
        CONCAT(PATTERN_ID,':',PATTERN_NAME) PATTERN,
        ITA_EXT_STM_ID                ,
        TIME_LIMIT                    ,
        ANS_HOST_DESIGNATE_TYPE_ID    ,
        ANS_PARALLEL_EXE              ,
        ANS_WINRM_ID                  ,
        ANS_PLAYBOOK_HED_DEF      ,
        ANS_EXEC_OPTIONS              ,
        ANS_VIRTUALENV_NAME           ,
        DISP_SEQ                      ,
        ACCESS_AUTH                   ,
        NOTE                          ,
        DISUSE_FLAG                   ,
        LAST_UPDATE_TIMESTAMP         ,
        LAST_UPDATE_USER
FROM C_PATTERN_PER_ORCH_JNL TAB_A
WHERE TAB_A.ITA_EXT_STM_ID = 3;


CREATE OR REPLACE VIEW E_ANSIBLE_PNS_PATTERN AS 
SELECT 
        PATTERN_ID                    ,
        PATTERN_NAME                  ,
        CONCAT(PATTERN_ID,':',PATTERN_NAME) PATTERN,
        ITA_EXT_STM_ID                ,
        TIME_LIMIT                    ,
        ANS_HOST_DESIGNATE_TYPE_ID    ,
        ANS_PARALLEL_EXE              ,
        ANS_VIRTUALENV_NAME           ,
        ANS_EXEC_OPTIONS              ,
        DISP_SEQ                      ,
        ACCESS_AUTH                   ,
        NOTE                          ,
        DISUSE_FLAG                   ,
        LAST_UPDATE_TIMESTAMP         ,
        LAST_UPDATE_USER
FROM C_PATTERN_PER_ORCH TAB_A
WHERE TAB_A.ITA_EXT_STM_ID = 4;


CREATE OR REPLACE VIEW E_ANSIBLE_PNS_PATTERN_JNL AS 
SELECT 
        JOURNAL_SEQ_NO                ,
        JOURNAL_REG_DATETIME          ,
        JOURNAL_ACTION_CLASS          ,
        PATTERN_ID                    ,
        PATTERN_NAME                  ,
        CONCAT(PATTERN_ID,':',PATTERN_NAME) PATTERN,
        ITA_EXT_STM_ID                ,
        TIME_LIMIT                    ,
        ANS_HOST_DESIGNATE_TYPE_ID    ,
        ANS_PARALLEL_EXE              ,
        ANS_VIRTUALENV_NAME           ,
        ANS_EXEC_OPTIONS              ,
        DISP_SEQ                      ,
        ACCESS_AUTH                   ,
        NOTE                          ,
        DISUSE_FLAG                   ,
        LAST_UPDATE_TIMESTAMP         ,
        LAST_UPDATE_USER
FROM C_PATTERN_PER_ORCH_JNL TAB_A
WHERE TAB_A.ITA_EXT_STM_ID = 4;


CREATE OR REPLACE VIEW E_ANSIBLE_LRL_PATTERN AS 
SELECT 
        PATTERN_ID                    ,
        PATTERN_NAME                  ,
        CONCAT(PATTERN_ID,':',PATTERN_NAME) PATTERN,
        ITA_EXT_STM_ID                ,
        TIME_LIMIT                    ,
        ANS_HOST_DESIGNATE_TYPE_ID    ,
        ANS_PARALLEL_EXE              ,
        ANS_WINRM_ID                  ,
        ANS_PLAYBOOK_HED_DEF          ,
        ANS_EXEC_OPTIONS              ,
        ANS_VIRTUALENV_NAME           ,
        DISP_SEQ                      ,
        ACCESS_AUTH                   ,
        NOTE                          ,
        DISUSE_FLAG                   ,
        LAST_UPDATE_TIMESTAMP         ,
        LAST_UPDATE_USER
FROM C_PATTERN_PER_ORCH TAB_A
WHERE TAB_A.ITA_EXT_STM_ID = 5;


CREATE OR REPLACE VIEW E_ANSIBLE_LRL_PATTERN_JNL AS 
SELECT 
        JOURNAL_SEQ_NO                ,
        JOURNAL_REG_DATETIME          ,
        JOURNAL_ACTION_CLASS          ,
        PATTERN_ID                    ,
        PATTERN_NAME                  ,
        CONCAT(PATTERN_ID,':',PATTERN_NAME) PATTERN,
        ITA_EXT_STM_ID                ,
        TIME_LIMIT                    ,
        ANS_HOST_DESIGNATE_TYPE_ID    ,
        ANS_PARALLEL_EXE              ,
        ANS_WINRM_ID                  ,
        ANS_PLAYBOOK_HED_DEF          ,
        ANS_EXEC_OPTIONS              ,
        ANS_VIRTUALENV_NAME           ,
        DISP_SEQ                      ,
        ACCESS_AUTH                   ,
        NOTE                          ,
        DISUSE_FLAG                   ,
        LAST_UPDATE_TIMESTAMP         ,
        LAST_UPDATE_USER
FROM C_PATTERN_PER_ORCH_JNL TAB_A
WHERE TAB_A.ITA_EXT_STM_ID = 5;


UPDATE A_MENU_LIST SET NOTE='' WHERE MENU_ID IN (2100020103,2100020104,2100020106,2100020107,2100020108,2100020109,2100020110,2100020111,2100020112,2100020113,2100020203,2100020204,2100000302,2100020205,2100020207,2100020208,2100020209,2100020210,2100020211,2100020212,2100020213,2100020303,2100020304,2100020305,2100020306,2100020308,2100020309,2100020310,2100020311,2100020312,2100020313,2100020314,2100020315,2100040702,2100040706,2100040703,2100040704,2100020115,2100020214,2100020316,2100020317,2100020318,2100020320,2100020322,2100040707,2100040708);
UPDATE A_MENU_LIST_JNL SET NOTE='' WHERE MENU_ID IN (2100020103,2100020106,2100020107,2100020108,2100020109,2100020110,2100020111,2100020112,2100020113,2100020203,2100020204,2100000302,2100020205,2100020207,2100020208,2100020209,2100020210,2100020211,2100020212,2100020213,2100020303,2100020304,2100020305,2100020306,2100020308,2100020309,2100020310,2100020311,2100020312,2100020313,2100020314,2100020315,2100040702,2100040706,2100040703,2100040704,2100020115,2100020214,2100020316,2100020317,2100020318,2100020320,2100020322,2100040707,2100040708);


UPDATE A_MENU_LIST SET MENU_NAME='Movement playbook link', NOTE='' WHERE MENU_ID IN (2100020105);
UPDATE A_MENU_LIST_JNL SET MENU_NAME='Movement playbook link', NOTE='' WHERE MENU_ID IN (2100020105);

UPDATE A_MENU_LIST SET MENU_NAME='Movement dialogue type link', NOTE='' WHERE MENU_ID IN (2100020206);
UPDATE A_MENU_LIST_JNL SET MENU_NAME='Movement dialogue type link', NOTE='' WHERE MENU_ID IN (2100020206);

UPDATE A_MENU_LIST SET MENU_NAME='Movement role link', NOTE='' WHERE MENU_ID IN (2100020307);
UPDATE A_MENU_LIST_JNL SET MENU_NAME='Movement role link', NOTE='' WHERE MENU_ID IN (2100020307);

UPDATE A_MENU_LIST SET MENU_NAME='Nested variable list', NOTE='' WHERE MENU_ID IN (2100020319);
UPDATE A_MENU_LIST_JNL SET MENU_NAME='Nested variable list', NOTE='' WHERE MENU_ID IN (2100020319);
